DISPLAYS MACRO STRING
	MOV AH,09H
	MOV DX,OFFSET STRING
	INT 21H
	ENDM

CLICKED MACRO ROWS,COLS,ROWE,COLE,CALLFUNC
LOCAL NOTINSIDE,INSIDE
	CMP CX,COLS
	JB NOTINSIDE

	CMP CX,COLE
	JA NOTINSIDE

	CMP DX,ROWS
	JB NOTINSIDE

	CMP DX,ROWE
	JA NOTINSIDE

	CALL CALLFUNC
	JMP START
NOTINSIDE:
ENDM

CURSOR MACRO ROW,COL
	MOV AH,02H
	MOV BH,00H
	MOV DH,ROW
	MOV DL,COL
	INT 10H
	ENDM

FILL MACRO ROWS,COLS,ROWE,COLE,COLOR
	LOCAL START,AGAIN
	MOV DX,ROWS
START:	MOV CX,COLS
AGAIN:	MOV AH,0CH
	MOV AL,COLOR
	INT 10H
	INC CX
	CMP CX,COLE
	JNE AGAIN
	INC DX
	CMP DX,ROWE
	JNE START
	ENDM
;-----------------------------------------------------------
.MODEL SMALL
.STACK 64
.DATA
	MESSAGE1	DB	'Horizontal Lines$'
	MESSAGE2	DB	'Vertical Lines$'	
	MESSAGE3	DB	'Exit$'
	MESSAGE4	DB	'NOW PRESS ANY KEY PARA MAKA EXIT','$'
	MESSAGE5	DB	'PRESS ANY KEY$'
	OLDVID		DB	?
	NEWVID		DB	12H

.CODE
MAIN PROC FAR
	MOV AX,@DATA
	MOV DS,AX
	MOV AH,0FH	;CURRENT VIDEO MODE
	INT 10H

	MOV OLDVID,AL	;SAVE IT
START:
	MOV AX,0600H	;CLEAR SCREEN
	MOV BH,07H
	MOV CX,0000H
	MOV DX,184FH
	INT 10H

	MOV AH,00H	;SET NEW VIDEO MODE
	MOV AL,NEWVID
	INT 10H

	CURSOR 0,0	;HORIZONTAL LINES
	FILL 50,250,150,400,4	
	CURSOR 6,33
	DISPLAYS MESSAGE1

	CURSOR 0,0
	FILL 200,250,300,400,4	;VERTICAL LINES
	CURSOR 15,34
	DISPLAYS MESSAGE2
	
	CURSOR 0,0	;EXIT
	FILL 350,250,450,400,2
	CURSOR 25,38
	DISPLAYS MESSAGE3
	
	MOV AX,0000H	;INITIALIZE MOUSE
	INT 33H

	MOV AX,01H	;SHOW MOUSE CURSOR
	INT 33H

	AGAIN:	MOV AX,03H	;GET MOUSE LOCATION
	INT 33H

	CMP BX,0001H	;CHECK IF LEFT BUTTON IS PRESSED
	JNE AGAIN
	
	CLICKED 200,250,300,400,PATTERNV
	CLICKED 50,250,150,400,PATTERNH
	CLICKED 350,250,450,400,EXIT
	JMP AGAIN
main endp

patternH PROC NEAR
	MOV AX,0600H	;CLEAR SCREEN
	MOV BH,00H
	MOV CX,0000H
	MOV DX,1E4FH
	INT 10H
	CURSOR 0,0
	FILL 0,0,120,640,4
	FILL 120,0,240,640,3
	FILL 240,0,360,640,2
	FILL 360,0,480,640,1
	CURSOR 25,33
	DISPLAYS MESSAGE5
	mov ah,10h ;wait for input
	int 16h
	RET
patternH ENDP
EXIT PROC NEAR
	MOV AX,0600H	;CLEAR SCREEN
	MOV BH,00H
	MOV CX,0000H
	MOV DX,1E4FH
	INT 10H
	MOV AH,4CH
	INT 21H
	RET
EXIT ENDP
patternV PROC NEAR
	MOV AX,0600H	;CLEAR SCREEN
	MOV BH,00H
	MOV CX,0000H
	MOV DX,1E4FH
	INT 10H
	CURSOR 0,0
	FILL 0,0,480,160,2
	FILL 0,160,480,320,3
	FILL 0,320,480,480,4
	FILL 0,480,480,640,5
	CURSOR 25,33
	DISPLAYS MESSAGE5
	mov ah,10h ;wait for input
	int 16h
	RET
patternV ENDP
end main